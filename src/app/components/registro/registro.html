<div class="min-h-screen bg-gradient-to-br from-slate-100 via-white to-gray-100 flex flex-col items-center justify-center p-5">
    
  <div class="bg-white rounded-2xl p-10 shadow-2xl w-full max-w-md text-center animate-slide-up">
    
    <div class="mb-8">
      <div class="text-center">
        <div class="size-32 bg-gradient-primary rounded-full flex flex-col items-center justify-center mx-auto text-white shadow-2xl relative animate-pulse-custom">
          <img src="assets/images/cab.png" alt="Logo" class="size-12 rounded-lg flex items-center justify-center font-bold text-primary-500" />
        </div>
      </div>
      <h2 class="text-gray-800 text-2xl font-semibold mt-6 mb-2 leading-tight">Crear Nueva Cuenta</h2>
      <p class="text-gray-600 text-sm">Regístrate para acceder al sistema CAB</p>
    </div>
    
    <form [formGroup]="registroForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-4 mb-6">
      
      <!-- Campo Nombre -->
      <div class="relative">
        <input 
          type="text" 
          formControlName="nombre"
          placeholder="Nombre completo"
          class="w-full px-5 py-4 border-2 border-gray-300 rounded-xl text-base outline-none transition-all duration-300 bg-gray-50 text-center font-medium text-black focus:border-primary-500 focus:bg-white focus:shadow-lg focus:-translate-y-0.5"
          [class.border-red-500]="isFieldInvalid('nombre')"
          [class.bg-red-50]="isFieldInvalid('nombre')"
          [class.focus:ring-4]="isFieldInvalid('nombre')"
          [class.focus:ring-red-100]="isFieldInvalid('nombre')">
        
        <div *ngIf="getFieldError('nombre')" class="text-red-500 text-xs mt-1 text-left px-2">
          {{ getFieldError('nombre') }}
        </div>
      </div>

      <!-- Campo Correo -->
      <div class="relative">
        <input 
          type="email" 
          formControlName="correo"
          placeholder="Correo electrónico"
          class="w-full px-5 py-4 border-2 border-gray-300 rounded-xl text-base outline-none transition-all duration-300 bg-gray-50 text-center font-medium text-black focus:border-primary-500 focus:bg-white focus:shadow-lg focus:-translate-y-0.5"
          [class.border-red-500]="isFieldInvalid('correo')"
          [class.bg-red-50]="isFieldInvalid('correo')"
          [class.focus:ring-4]="isFieldInvalid('correo')"
          [class.focus:ring-red-100]="isFieldInvalid('correo')">
        
        <div *ngIf="getFieldError('correo')" class="text-red-500 text-xs mt-1 text-left px-2">
          {{ getFieldError('correo') }}
        </div>
      </div>

      <!-- Campo Contraseña -->
      <div class="relative">
        <input 
          [type]="showPassword ? 'text' : 'password'" 
          formControlName="password"
          placeholder="Contraseña"
          class="w-full px-5 py-4 pr-12 border-2 border-gray-300 rounded-xl text-base outline-none transition-all duration-300 bg-gray-50 text-center font-medium text-black focus:border-primary-500 focus:bg-white focus:shadow-lg focus:-translate-y-0.5"
          [class.border-red-500]="isFieldInvalid('password')"
          [class.bg-red-50]="isFieldInvalid('password')"
          [class.focus:ring-4]="isFieldInvalid('password')"
          [class.focus:ring-red-100]="isFieldInvalid('password')">
        
        <button 
          type="button"
          class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-primary-600 transition-colors"
          (click)="togglePasswordVisibility()">
          <i [class]="showPassword ? 'pi pi-eye-slash' : 'pi pi-eye'"></i>
        </button>
        
        <div *ngIf="getFieldError('password')" class="text-red-500 text-xs mt-1 text-left px-2">
          {{ getFieldError('password') }}
        </div>
      </div>

      <!-- Campo Confirmar Contraseña -->
      <div class="relative">
        <input 
          [type]="showConfirmPassword ? 'text' : 'password'" 
          formControlName="confirmPassword"
          placeholder="Confirmar contraseña"
          class="w-full px-5 py-4 pr-12 border-2 border-gray-300 rounded-xl text-base outline-none transition-all duration-300 bg-gray-50 text-center font-medium text-black focus:border-primary-500 focus:bg-white focus:shadow-lg focus:-translate-y-0.5"
          [class.border-red-500]="isFieldInvalid('confirmPassword')"
          [class.bg-red-50]="isFieldInvalid('confirmPassword')"
          [class.focus:ring-4]="isFieldInvalid('confirmPassword')"
          [class.focus:ring-red-100]="isFieldInvalid('confirmPassword')">
        
        <button 
          type="button"
          class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-primary-600 transition-colors"
          (click)="toggleConfirmPasswordVisibility()">
          <i [class]="showConfirmPassword ? 'pi pi-eye-slash' : 'pi pi-eye'"></i>
        </button>
        
        <div *ngIf="getFieldError('confirmPassword')" class="text-red-500 text-xs mt-1 text-left px-2">
          {{ getFieldError('confirmPassword') }}
        </div>
      </div>

      <!-- Mensajes de estado -->
      <div *ngIf="errorMessage" class="bg-red-50 text-red-800 px-4 py-3 rounded-lg text-sm flex items-center gap-2 border border-red-200">
        <i class="pi pi-exclamation-circle text-base"></i>
        {{ errorMessage }}
      </div>

      <div *ngIf="successMessage" class="bg-green-50 text-green-800 px-4 py-3 rounded-lg text-sm flex items-center gap-2 border border-green-200">
        <i class="pi pi-check-circle text-base"></i>
        {{ successMessage }}
      </div>

      <!-- Botón de registro -->
      <button 
        type="submit" 
        class="bg-gradient-primary text-white border-0 px-8 py-4 rounded-3xl text-lg font-semibold cursor-pointer transition-all duration-300 uppercase tracking-wide relative overflow-hidden hover:-translate-y-1 active:translate-y-0 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"
        [disabled]="registroForm.invalid || isLoading">
        <span *ngIf="!isLoading">Crear Cuenta</span>
        <span *ngIf="isLoading" class="flex items-center justify-center gap-2">
          <i class="pi pi-spin pi-spinner"></i>
          Registrando...
        </span>
      </button>

    </form>

    <!-- Enlaces de navegación -->
    <div class="flex flex-col gap-4">
      <a (click)="goToLogin()" class="text-primary-600 text-sm transition-colors duration-200 hover:text-primary-700 cursor-pointer">¿Ya tienes cuenta? Inicia sesión</a>
      <div class="h-px bg-gray-200 my-2"></div>
      <button class="bg-gray-600 text-white border-0 px-6 py-3 rounded-2xl text-sm font-medium cursor-pointer transition-all duration-300 flex items-center justify-center gap-2 hover:bg-gray-700 hover:-translate-y-0.5" (click)="goBack()">
        <i class="pi pi-arrow-left text-sm"></i>
        Volver al inicio
      </button>
    </div>

    <!-- Información de ayuda -->
    <div class="mt-6 text-xs text-gray-500">
      <p>Al registrarte, aceptas nuestros términos de servicio</p>
      <p class="mt-1">Sistema de Gestión de Residuos CAB</p>
    </div>

  </div>

  <!-- Modal de ayuda (opcional) -->
  <div *ngIf="showHelpModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" (click)="closeHelpModal()">
    <div class="bg-white rounded-2xl p-6 max-w-md w-11/12" (click)="$event.stopPropagation()">
      <h3 class="text-lg font-semibold mb-4">Ayuda para el Registro</h3>
      <div class="space-y-3 text-sm text-gray-600">
        <p><strong>Nombre:</strong> Tu nombre completo tal como quieres que aparezca en el sistema.</p>
        <p><strong>Correo:</strong> Un correo electrónico válido que usarás para iniciar sesión.</p>
        <p><strong>Contraseña:</strong> Mínimo 6 caracteres. Usa una contraseña segura.</p>
      </div>
      <button class="w-full mt-4 bg-primary-600 text-white py-2 rounded-lg hover:bg-primary-700 transition-colors" (click)="closeHelpModal()">
        Entendido
      </button>
    </div>
  </div>

</div>
